
Задана последовательность чисел a1, a2, .., an

Необходимо найти возрастающую подпоследовательность наибольшей длины.

1 5 3 7 1 4 10 15

###### Перебор.

Число различных подпоследовательностей (2^n-1)

Можно применять для n <= 20

![](https://lh4.googleusercontent.com/unY-qSdzNUFvhb7Bch5c5D_QPXqMBLhWBulUu9fhzmOJCnjufxWxPh_SoltKz__XrUtsdz4-fB8ia92T6HXrhhCQTfwg1ybNP_QmeAdth4htgBzixm8m8rQKOjvRX12Y473cWArPkEn47QR54IpFgYk)

Можно взять все подпоследовательности и смотреть будут ли они возрастать, но их будет очень много и следовательно при большом значении n - метод не применим.

  

###### Разбиение на подзадачи


**Идея**: найти наибольшую возрастающую подпоследовательность среди первых i элементов.

Более точно: найти наибольшую возрастающую подпоследовательность среди первых i элементов, последний элемент в которой ai.

Рекуррентная формула

d[i] – длина наибольшей возрастающей подпоследовательности, которая заканчивается в ai.

![](https://lh3.googleusercontent.com/k-bmpnw639MvyjKkwlSHVYxwwxriFK-QtbyBP9i7LFhTH78gYHsZVn_dvcq_bSTug6an0pgYpNIGzOWl4mmagm4QUjHDQhv6il49PiYhph26Y27hvmwARh6O-DPoP-SRC520z3bPNik2vzewOkmAEMA)

  

Считается, что максимум равен нулю, если таких индексов j нет

Нужно взять все подпоследовательности длиной от 1 до i не включая, посмотреть все наибольшие длины и выбрать наибольшую, что наш элемент i был больше, чем a[j] - чтобы он расширял наибольшую подпоследовательность подзадачи. Короче нужны те подпоследовательности, которые мы можем расширить нашим a[i] и добавляем 1, т.к. можем расширить. В худшем случае мы ничего не найдем и максимум равен 0, а тогда в d[i] пишем 1. В самом худшем случае для подзадачи d[i] = 1 и максимальная длина на a[i] - единица.

  

Можем сделать немного проще.

И добавим a0 = -inf, а d[0] = 0. Грубо говоря появляется нулевая подпоследовательность, длина наибольшей подпоследовательности равна 0, при этом её элемент -inf. Позволяет избежать хитрого условия, что если j нет, то максимум = 0.